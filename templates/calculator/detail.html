{% load static %}
<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Детали расчёта #{{ calc.pk }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        min-height: 100vh;
        display: flex;
        flex-direction: column;
      }
      main {
        flex: 1;
      }
      .detail-card {
        max-width: 900px;
        margin: 0 auto;
      }
      .table th {
        background-color: #f8f9fa;
        font-weight: 600;
        width: 40%;
      }
      .table td {
        font-weight: 500;
      }
      .btn-back {
        text-decoration: none;
        color: #6c757d;
        font-weight: 500;
        transition: color 0.2s;
      }
      .btn-back:hover {
        color: #212529;
      }
      @media (max-width: 575.98px) {
        .table th,
        .table td {
          font-size: 0.9rem;
          padding: 0.75rem 0.5rem;
        }
        h2 {
          font-size: 1.5rem;
        }
      }
    </style>
  </head>
  <body class="bg-light">
    <main class="container py-4 py-md-5">
      <div class="detail-card">
        <!-- Back button -->
        <div class="mb-4">
          <a href="/" class="btn-back">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-left me-2" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"/>
            </svg>
            Назад к калькулятору
          </a>
        </div>

        <!-- Detail card -->
        <div class="card shadow-sm">
          <div class="card-header bg-dark text-white">
            <h2 class="h4 mb-0 py-2">Детали расчёта #{{ calc.pk }}</h2>
          </div>
          <div class="card-body p-0">
            <div class="table-responsive">
              <table class="table table-bordered mb-0">
                <tbody>
                  <!-- Input parameters section -->
                  <tr class="table-secondary">
                    <th colspan="2" class="text-center py-3">
                      <strong>Входные параметры</strong>
                    </th>
                  </tr>
                  <tr>
                    <th>L₀ (мм)</th>
                    <td>{{ calc.L0|floatformat:4 }}</td>
                  </tr>
                  <tr>
                    <th>S₀ (мм²)</th>
                    <td>{{ calc.S0|floatformat:4 }}</td>
                  </tr>
                  <tr>
                    <th>V₀ (см³)</th>
                    <td>{{ calc.V0|floatformat:4 }}</td>
                  </tr>
                  <tr>
                    <th>α (1/°C)</th>
                    <td>{{ calc.alpha|floatformat:6 }}</td>
                  </tr>
                  <tr>
                    <th>E (МПа)</th>
                    <td>{{ calc.E|floatformat:2 }}</td>
                  </tr>
                  <tr>
                    <th>ΔT (°C)</th>
                    <td>{{ calc.delta_T|floatformat:2 }}</td>
                  </tr>

                  <!-- Results section -->
                  <tr class="table-secondary">
                    <th colspan="2" class="text-center py-3">
                      <strong>Результаты расчёта</strong>
                    </th>
                  </tr>
                  <tr>
                    <th>ΔL (мм)</th>
                    <td class="text-primary fw-bold">{{ calc.delta_L|floatformat:6 }}</td>
                  </tr>
                  <tr>
                    <th>ΔS (мм²)</th>
                    <td class="text-primary fw-bold">{{ calc.delta_S|floatformat:6 }}</td>
                  </tr>
                  <tr>
                    <th>ΔV (см³)</th>
                    <td class="text-primary fw-bold">{{ calc.delta_V|floatformat:6 }}</td>
                  </tr>
                  <tr>
                    <th>σ (МПа)</th>
                    <td class="text-primary fw-bold">{{ calc.sigma|floatformat:6 }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="card-footer bg-light text-center">
            <a href="/" class="btn btn-outline-dark">
              Вернуться к калькулятору
            </a>
          </div>
        </div>

        <!-- Additional info -->
        <div class="mt-4 text-center">
          <small class="text-muted">
            Расчёт выполнен с использованием стандартных формул теплового расширения
          </small>
        </div>
      </div>
    </main>

    <footer class="bg-white border-top py-4 text-center text-muted mt-auto">
      <div class="container">
        © {% now "Y" %} ThermalCalc
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>